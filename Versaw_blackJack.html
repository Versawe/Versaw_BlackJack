<html>
<header>
	<title>
		Eric Versaw's Black Jack Game
	</title>
</header>

<script type="text/javascript">

	var suit = '';

	var value = 0;

	var isJack = false;
	var isKing = false;
	var isQueen = false;
	var isACE = false;

	var dealersTurn = true;
	var playersTurn = false;

	var dealersHand = 0;
	var playersHand = 0;

	var dealerFirstPlay = true;

	var playerHolds = false;


	//player's darw function
	function drawCard(){
		if(!dealersTurn && playersTurn && !playerHolds){
			suit = getSuit();

			value = getValue();

			if(!isJack && !isACE && !isQueen && !isKing){
				document.getElementById("playerDrew").innerHTML = "You drew the " + value + " of " + suit;
				document.getElementById("playerScore").innerHTML = playersHand;
			}
			if(isACE){
				document.getElementById("playerDrew").innerHTML = "You drew the Ace of " + suit;
				document.getElementById("playerScore").innerHTML = playersHand;
			}
			if(isKing){
				document.getElementById("playerDrew").innerHTML = "You drew the King of " + suit;
				document.getElementById("playerScore").innerHTML = playersHand;

			}
			if(isJack){
				document.getElementById("playerDrew").innerHTML = "You drew the Jack of " + suit;
				document.getElementById("playerScore").innerHTML = playersHand;

			}
			if(isQueen){
				document.getElementById("playerDrew").innerHTML = "You drew the Queen of " + suit;
				document.getElementById("playerScore").innerHTML = playersHand;

			}

		}

	}

	function dealCard(){
		if(dealersTurn && !playersTurn){

			if(dealersHand < 17){

				suit = getSuit();

				value = getValue();

				if(!isJack && !isACE && !isQueen && !isKing){
					document.getElementById("dealerDelt").innerHTML = "Dealer Played " + value + " of " + suit;
					document.getElementById("dealerScore").innerHTML = dealersHand;
				}
				if(isACE){
					printVarDealer = "Dealer Played the Ace of " + suit;
					document.getElementById("dealerDelt").innerHTML = "Dealer Played the Ace of " + suit;
					document.getElementById("dealerScore").innerHTML = dealersHand;
				}
				if(isKing){
					document.getElementById("dealerDelt").innerHTML = "Dealer Played the King of " + suit;
					document.getElementById("dealerScore").innerHTML = dealersHand;

				}
				if(isJack){
					document.getElementById("dealerDelt").innerHTML = "Dealer Played the Jack of " + suit;
					document.getElementById("dealerScore").innerHTML = dealersHand;

				}
				if(isQueen){
					document.getElementById("dealerDelt").innerHTML = "Dealer Played the Queen of " + suit;
					document.getElementById("dealerScore").innerHTML = dealersHand;

				}

				if(dealerFirstPlay){
					dealersTurn = false;
					playersTurn = true;
					dealerFirstPlay = false;

				}

			}

		}

	}

	//function to get random suit
	function getSuit(){

		suitChoice = Math.floor(Math.random() * 4) + 1;

		if(suitChoice == 1){
			suitFinal = 'Diamonds';

		}
		if(suitChoice == 2){
			suitFinal = 'Hearts';

		}
		if(suitChoice == 3){
			suitFinal = 'Clubs';

		}
		if(suitChoice == 4){
			suitFinal = 'Spades';

		}


		return suitFinal;

	}

	//random function to get the value
	function getValue(){

		isJack = false;
		isKing = false;
		isQueen = false;
		isACE = false;

		valueChoice = Math.floor(Math.random() * 13) + 1;

		if(valueChoice == 1){
			valueFinal = 1;
			isACE = true;
			if(dealersTurn && !playersTurn){
				if(dealersHand > 10){
					dealersHand += 1;

				}
				if(dealersHand <= 10){
					dealersHand += 11;

				}

			}
			if(!dealersTurn && playersTurn){
				if(playersHand > 10){
					playersHand += 1;

				}
				if(playersHand <= 10){
					playersHand += 11;

				}
			}
			//ace
		}
		if(valueChoice == 2){
			valueFinal = 2;
			if(dealersTurn && !playersTurn){
				dealersHand += 2;

			}
			if(!dealersTurn && playersTurn){
				playersHand += 2;

			}

		}
		if(valueChoice == 3){
			valueFinal = 3;
			if(dealersTurn && !playersTurn){
				dealersHand += 3;

			}
			if(!dealersTurn && playersTurn){
				playersHand += 3;

			}

		}
		if(valueChoice == 4){
			valueFinal = 4;
			if(dealersTurn && !playersTurn){
				dealersHand += 4;

			}
			if(!dealersTurn && playersTurn){
				playersHand += 4;

			}

		}
		if(valueChoice == 5){
			valueFinal = 5;
			if(dealersTurn && !playersTurn){
				dealersHand += 5;

			}
			if(!dealersTurn && playersTurn){
				playersHand += 5;

			}

		}
		if(valueChoice == 6){
			valueFinal = 6;
			if(dealersTurn && !playersTurn){
				dealersHand += 6;

			}
			if(!dealersTurn && playersTurn){
				playersHand += 6;

			}

		}
		if(valueChoice == 7){
			valueFinal = 7;
			if(dealersTurn && !playersTurn){
				dealersHand += 7;

			}
			if(!dealersTurn && playersTurn){
				playersHand += 7;

			}

		}
		if(valueChoice == 8){
			valueFinal = 8;
			if(dealersTurn && !playersTurn){
				dealersHand += 8;

			}
			if(!dealersTurn && playersTurn){
				playersHand += 8;

			}

		}
		if(valueChoice == 9){
			valueFinal = 9;
			if(dealersTurn && !playersTurn){
				dealersHand += 9;

			}
			if(!dealersTurn && playersTurn){
				playersHand += 9;

			}

		}
		if(valueChoice == 10){
			valueFinal = 10;
			if(dealersTurn && !playersTurn){
				dealersHand += 10;

			}
			if(!dealersTurn && playersTurn){
				playersHand += 10;

			}

		}
		if(valueChoice == 11){
			valueFinal = 10;
			isJack = true;
			if(dealersTurn && !playersTurn){
				dealersHand += 10;

			}
			if(!dealersTurn && playersTurn){
				playersHand += 10;

			}
			//jack
		}
		if(valueChoice == 12){
			valueFinal = 10;
			isQueen = true;
			if(dealersTurn && !playersTurn){
				dealersHand += 10;

			}
			if(!dealersTurn && playersTurn){
				playersHand += 10;

			}
			//queen
		}
		if(valueChoice == 13){
			valueFinal = 10;
			isKing = true;
			if(dealersTurn && !playersTurn){
				dealersHand += 10;

			}
			if(!dealersTurn && playersTurn){
				playersHand += 10;

			}
			//king
		}


		return valueFinal;
	}

	function newRound(){
		suit = '';

		value = 0;

		isJack = false;
		isKing = false;
		isQueen = false;
		isACE = false;

		dealersTurn = true;
		playersTurn = false;

		dealersHand = 0;
		playersHand = 0;

		dealerFirstPlay = true;
		playerHolds = false;

		document.getElementById("playerScore").innerHTML = playersHand;
		document.getElementById("dealerScore").innerHTML = dealersHand;
		document.getElementById("playerDrew").innerHTML = "";
		document.getElementById("dealerDelt").innerHTML = "";
		document.getElementById("endGame").innerHTML = "";

	}

	function finishGame(){
		if(dealersHand >= 17 && dealersHand < playersHand){
				document.getElementById("endGame").innerHTML = "Dealer cannot play anymore. YOU WIN!!!";
				dealersTurn = false;
				playersTurn = false;
		}
		if(dealersHand == playersHand && dealersHand > 17){
			document.getElementById("endGame").innerHTML = "TIE GAME! Try again...";
			dealersTurn = false;
			playersTurn = false;

		}
		if(dealersHand > playersHand && playerHolds){
			document.getElementById("endGame").innerHTML = "Dealer beats your score. DEALER WINS!!!";
			dealersTurn = false;
			playersTurn = false;

		}
		if(playersHand > 21){
			playersTurn = false;
			dealersTurn = false;
			document.getElementById("endGame").innerHTML = "You BUSTED!!";
		}
		if(dealersHand > 21){
			playersTurn = false;
			dealersTurn = false;
			document.getElementById("endGame").innerHTML = "Dealer BUSTED!! You Win!!";
		}

	}

	function playerHold(){
		if(playersTurn){
			document.getElementById("playerDrew").innerHTML = "Player is holding at " + playersHand;
			playersTurn = false;
			dealersTurn = true;
			playerHolds = true;

		}
		
	}

</script>
<center>
<h2>Black Jack</h2>
<h2>Dealer Clicks to Deal</h2>
<input type=button value="DEAL" onClick="dealCard(); finishGame();">
<p>Face Up Card Dealt</p>
<p id="dealerDelt"></p>
<p id="dealerScore"></p>
<br>
<h2>Click to draw card</h2>
<input type=button value="HIT" onClick="drawCard(); finishGame();" >
<br>
<input type=button value="HOLD" onClick="playerHold(); finishGame();">
<p>Card Drawn</p>
<p id="playerDrew"></p>
<p id="playerScore"></p>
<p id = "endGame"></p>
<input type =button value="Reset Round" onClick="newRound();">

</center>

</html>